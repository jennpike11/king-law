@use '../base/globals' as *;
@use '../base/mixins' as *;
@use "sass:color";

/* Moving gradient pan with seamless loop using alternate direction */
body {
  /* base plus analogous tints around #131D38 */
  --c0: #131D38;
  --c1: #1b2750;
  --c2: #0e142b;
  --c3: #22336a;
  --speed: 22s;

  position: relative;
  background: linear-gradient(
    120deg,
    var(--c0) 0%,
    var(--c1) 25%,
    var(--c2) 50%,
    var(--c3) 75%,
    var(--c0) 100%
  );
  background-size: 300% 300%;
  animation: mg-pan var(--speed) linear infinite;
  animation-direction: alternate;
}

@keyframes mg-pan {
  0%   { background-position: 0% 50%; }
  100% { background-position: 100% 50%; }
}

/* optional noise veil to reduce banding */
body::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image:
    radial-gradient(1px 1px at 20% 30%, rgba(255,255,255,.02) 0, transparent 100%),
    radial-gradient(1px 1px at 80% 70%, rgba(0,0,0,.02) 0, transparent 100%);
  mix-blend-mode: overlay;
  opacity: .35;
}

/* accessibility guard for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  body {
    animation: none;
    background-position: 50% 50%;
  }
}
