@use '../base/globals' as *;

.category-header {
  @include flex-center;
  flex-direction: column;
  position: relative;
  isolation: isolate;

  /* banner sizing */
  min-height: clamp(320px, 46vw, 800px);
  margin-bottom: clamp(24px, 5vw, 64px);

  /* one mask to rule them all */
  --fade-start: 60%;
  --fade-end: 100%;
  -webkit-mask-image: linear-gradient(
    to bottom,
    #000 0%,
    #000 var(--fade-start),
    rgba(0,0,0,0) var(--fade-end)
  );
          mask-image: linear-gradient(
    to bottom,
    #000 0%,
    #000 var(--fade-start),
    rgba(0,0,0,0) var(--fade-end)
  );
  -webkit-mask-size: 100% 100%;
          mask-size: 100% 100%;
  -webkit-mask-repeat: no-repeat;
          mask-repeat: no-repeat;

  /* overlay sits above the image, below the text */
  &::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.45); /* tune darkness */
    z-index: 1;
    pointer-events: none;
  }

  &__image {
    position: absolute;
    inset: 0;
    z-index: 0;                /* below overlay */
    width: 100%;
    height: 100%;
    object-fit: cover;

    /* remove the mask from the image itself */
    -webkit-mask: none;
            mask: none;
  }

  &__title {
    @include flex-center;
    flex-direction: column;
    position: relative;
    z-index: 2;              
    height: 100%;
    text-align: center;
  }

  &__heading {
    width: 100%;
    font-size: clamp(32px, 55vw, 10vw);
    color: $white;
    white-space: nowrap;
  }

  &__subheading {
    position: absolute;
    left: 0; 
    right: 0; 
    bottom: 4px;
    color: $colorTwo;
    font-size: clamp(24px, 55vw, 6vw);
    font-family: $font-tertiary;
    white-space: nowrap;

     p {
      display: inline;
     }
  } 

  &__search-form {
    width: 88%;
    margin: -32px auto 0;
    max-width: 640px;

    @include respond-up(small){
      margin: 40px auto 0;
    }
  }
}


.category-content {
  @include container;
  @include flex-between;
  flex-wrap: wrap;

  &__item {
    margin-bottom: 32px;
    padding: 16px;
    background: $white;
    cursor: pointer;

    @include respond-up(medium){
      width: calc(50% - 16px);
    }

    @include respond-up(medium){
      width: calc(33.33% - 16px);
    }

    &:hover {
        .category-content__link:after {
        right: -28px;
      }
    }

    img {
      display: block; 
      width: 100%;
      height: 300px;
    }
  }

  &__title {
    margin-top: 32px;
    font-size: 20px;
    line-height: 26px;
    color: $black;
    font-family: $font-primary;
    text-transform: unset;
  }

   &__date {
    margin-top: 16px;
    font-size: 14px;
    line-height: 18px;
    color: $black;
    font-family: $font-primary;
    text-transform: unset;
  }

  &__link {
    display: block;
    position: relative;
    width: fit-content;
    margin: auto 0 0;
    padding-top: 32px;
    color: $colorTwo;
    transition: all .2s ease-in-out;

    &:after {
      content: '\f061';
      position: absolute;
      right: -20px;
      font-family: fontawesome;
      transition: all .2s ease-in-out;
    }
  }
}

.load-more {
  margin: 40px auto;
}

// Navigation
.nav-links {
  @include container;
  padding: 16px 0;
  
  @include respond-up(small){
    @include flex-between;
  }
}

.nav-subtitle {
  display: none;
}

.nav-previous {
  margin-bottom: 16px;
  color: $colorTwo;
  
  @include respond-up(small){
    max-width: 400px;
    margin-bottom: unset;
  }

  &:before {
    content: '\f060';
    margin-right: 4px;
    font-family: fontawesome;
  }
}

.nav-next {
  color: $colorTwo;

  @include respond-up(small){
    max-width: 400px;
  }

 &:after {
  content: '\f061';
  margin-left: 4px;
  font-family: fontawesome;
  }
}