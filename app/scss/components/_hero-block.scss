@use '../base/globals' as *;

.hero-block {
  @include container; 
  display: flex;
  align-items: center;
  position: relative;
  z-index: 2;
  height: 100%;

  @include respond-up(xlarge){
    max-width: calc(100% - 10vw);
  }

  &__wrapper {
    position: relative;
    height: 320px;
    background: unset;

    @include respond-up(small){
      height: 72vh;
    }

    @include respond-up(large){
      height: 98vh;
    }

    &:after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      z-index: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,.4);
    }
  }

  &__video, &__image {
    display:block;
    position: absolute;
    z-index: -1;
    width: 100%;
    height: 100%;
    object-fit: cover;
    
    &:before {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
      width: 100%;
      height: 100%;
      background: rgba(255,255,255,.6);
    }
  }

  &__text {
    position: relative;
    z-index: 2;
    max-width: 320px;

    @include respond-up(small){
      max-width: 1080px;
    }
  }

  &__heading {
    font-size: clamp(24px, 55vw, 8.8vw);
    line-height: .9;
    font-family: $font-secondary;
    text-transform: uppercase;
    color: rgba(255,255,255,.99);

    @include respond-up(small){
      font-size: clamp(24px, 55vw, 11vw);
    }
  }

  &__subheading {
    font-size: clamp(20px, 55vw, 2.4vw);
    line-height: .9;
    font-family: $font-tertiary;
    text-transform: uppercase;
    color: rgba(255,255,255,.99);
  }

  &__king {
    position: absolute;
    bottom: 0;
    right: -32px;
    z-index: 2;
    line-height: 0;

    @include respond-up(large){
      right: 0;
    }

    @include respond-up(large){
      right: 2vw;
    }

    img {
      height: 30vh;

      @include respond-up(small){
        height: 64vh;
      }

      @include respond-up(large){
        height: 88vh;
      }
    }
  }
}

// Pages that are not home page
.page-template-default:not(.home) .hero-block {
  &__wrapper {
    height: clamp(320px, 46vw, 680px);
  }

  &__heading {
    width: fit-content;

    &:after {
      content: '';
      display: block;
      width: 0; 
      height: 2px;
      margin: 4px 0;
      background-color: $white;
      transition: width 1s linear;
    }
  }

  &__subheading {
    font-size: clamp(24px, 55vw, 1.6vw);
    font-family: $font-primary;
  }

  &__king {
    height: 90%;

    img {
      height: 100%;

      @include respond-up(small){
        height: 100%;
      }

      @include respond-up(large){
        height: 100%;
      }
    }
  }
}

// Animation 

// Line on page load
.page-template-default:not(.home) .ready .hero-block__heading:after {
  width: 100%;
}


// Pulsing Letters
.hero-block__heading {
  position: relative;
  display: inline-block;                
  --pulse-accent: color-mix(in srgb, currentColor 85%, #000000 15%);
  --pulse-scale: 1.06;                   
}

.hero-block__heading .word {
  display: inline-block;     
  white-space: nowrap;      
}

.hero-block__heading .char {
  display: inline-block;
  transform-origin: 50% 60%;
  animation: heroCharPulse 1.8s ease-in-out 1 both;
  animation-delay: calc(var(--i) * 0.08s);
  will-change: transform, color;
}

.hero-block__heading .pulse-strong .char {
  --pulse-scale: 1.12;
  --pulse-accent: color-mix(in srgb, currentColor 70%, #000000 30%);
  animation-duration: 2s;
}

@keyframes heroCharPulse {
  0%, 100% { transform: scale(1);          color: currentColor; }
  50%      { transform: scale(var(--pulse-scale)); color: var(--pulse-accent); }
}

@media (prefers-reduced-motion: reduce) {
  .hero-block__heading .char { animation: none !important; }
}

