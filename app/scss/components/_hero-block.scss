@use '../base/globals' as *;

.hero-block {
  @include container; 
  display: flex;
  align-items: center;
  position: relative;
  z-index: 2;
  height: 100%;

  @include respond-up(xlarge){
    max-width: calc(100% - 10vw);
  }

  &__wrapper {
    position: relative;
    height: 320px;
    background: unset;

    @include respond-up(small){
      height: 72vh;
    }

    @include respond-up(large){
      height: 98vh;
    }
  }

  &__video, &__image {
    display:block;
    position: absolute;
    z-index: -1;
    width: 100%;
    height: 100%;
    object-fit: cover;
    
    &:before {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;
      width: 100%;
      height: 100%;
      background: rgba(255,255,255,.6);
    }
  }

  &__text {
    @include respond-up(small){
      width: 75%;
    }
  }

  &__heading {
    font-size: clamp(24px, 55vw, 11vw);
    line-height: .9;
    font-family: $font-secondary;
    text-transform: uppercase;
    color: rgba(0,0,0,.8);
  }

  &__king {
    position: absolute;
    bottom: 0;
    right: 0;
    line-height: 0;

    @include respond-up(large){
      right: 2vw;
    }

    img {
      height: 40vh;

      @include respond-up(small){
        height: 64vh;
      }

      @include respond-up(large){
        height: 88vh;
      }
    }
  }

}

// Animation
.hero-block__heading {
  position: relative;
  display: inline-block;                
  --pulse-accent: color-mix(in srgb, currentColor 85%, #ffffff 15%);
  --pulse-scale: 1.06;                   
}

.hero-block__heading .word {
  display: inline-block;     
  white-space: nowrap;      
}

.hero-block__heading .char {
  display: inline-block;
  transform-origin: 50% 60%;
  animation: heroCharPulse 1.8s ease-in-out 1 both;
  animation-delay: calc(var(--i) * 0.08s);
  will-change: transform, color;
}

.hero-block__heading .pulse-strong .char {
  --pulse-scale: 1.12;
  --pulse-accent: color-mix(in srgb, currentColor 70%, #ffffff 30%);
  animation-duration: 2s;
}

@keyframes heroCharPulse {
  0%, 100% { transform: scale(1);          color: currentColor; }
  50%      { transform: scale(var(--pulse-scale)); color: var(--pulse-accent); }
}

@media (prefers-reduced-motion: reduce) {
  .hero-block__heading .char { animation: none !important; }
}

